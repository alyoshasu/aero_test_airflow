# Cannabis Connector

Данный проект представляет собой коннектор для работы с открытым API, который предоставляет данные о каннабисе. Коннектор регулярно выполняет запросы к API каждые 12 часов и сохраняет полученные данные в хранилище для последующей обработки.

Оркестрация процесса загрузки и сохранения данных осуществлена с использованием Airflow. Airflow обеспечивает планирование и автоматизацию выполнения задач в заданное расписание, что позволяет надежно и эффективно обновлять информацию о каннабисе.

При каждой загрузке данных в хранилище добавляется текущая дата и время, что позволяет отслеживать изменения и анализировать актуальность информации.

##  Включите саундтрек

1. [BRUJERIA - Don Quijote Marijuana](https://www.youtube.com/watch?v=cFPJNJfd1yQ)

## Установка

1. Клонируйте репозиторий в папку с DAG-ами для Airflow

## Использование

1. Добавьте парпметры подключение к БД в Admin -> Variables:
    - `POSTGRES_URL` - URL для подключения к PostgreSQL базе данных.
2. Если нужны исторические данные, отредактируйте дату старта и установите:
    - `catchup = True`
3. Дождитесь загрузки DAG-а
4. Запустите DAG



